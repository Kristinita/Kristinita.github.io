<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
	<style type="text/css">

	    .bd-clipboard {
	      position: relative;
	      display: none;
	    }
	    @media (min-width: 768px) {
	      .bd-clipboard {
	        display: block;
	      }
	    }
	    .btn-clipboard {
	      position: absolute;
	      top: 8px;
	      right: 8px;
	      z-index: 10;
	      display: block;
	      padding: 4px 8px;
	      font-size: 12px;
	      color: #818a91;
	      cursor: pointer;
	      background-color: transparent;
	      border-radius: 4px;
	    }
	    .bd-clipboard+pre{
	      margin-top:0;
	    }
	    .btn-clipboard:hover {
	      color:#fff;
	      background-color:#027de7
	    }

	</style>
	<script src="../node_modules/clipboard/dist/clipboard.min.js"></script>
	<script src="../bower-components/rainbow/dist/rainbow.min.js"></script>
	<link rel="stylesheet" type="text/css" href="../bower-components/rainbow/themes/css/espresso-libre.css">
	<script type="text/javascript">

	    //после загрузки страницы
	    window.addEventListener('load', function() {
	      // получить коллекцию элементов pre на странице
	      var pre = document.getElementsByTagName('pre');
	      // перебрать все элементы pre с помощью цикла for
	      for (var i=0; i<pre.length; i++) {
	        // создать контейнер div
	        var divClipboard = document.createElement('div');
	        // добавить к контейнеру div класс .bd-clipboard
	        divClipboard.className = 'bd-clipboard';
	        // создать элемент span (кнопку Копировать)
	        var button = document.createElement('span');
	        // добавить к элементу span класс .btn-clipboard
	        button.className = 'btn-clipboard';
	        // элементу span установить контент Копировать
	        button.textContent = 'Копировать';
	        // добавить элемент span в качестве дочернего к элементу div
	        divClipboard.appendChild(button);
	        // добавить элемент div перед pre
	        pre[i].parentElement.insertBefore(divClipboard,pre[i]);
	      }
	      // инициализируем Clipboard для каждой кнопки
	      var btnClipboard = new Clipboard('.btn-clipboard', {
	        target: function(trigger) {
	          console.log(trigger.parentElement.nextElementSibling);
	          trigger.clearSelection;
	          return trigger.parentElement.nextElementSibling;
	        }
	      });
	      btnClipboard.on('success', function(e) {
	        e.clearSelection();
	      });
	    });
	</script>
</head>
<body>
	<p>HTML:</p>
	<pre>
	<p>Некоторый текст</p>
	</pre>
	<img src="../anima_images/Kiravel.jpg" alt="">
	<img src="https://packagecontrol.io/readmes/img/dfafcd2b8d9e12e61495cc1f7024cde90117f457.jpg" alt="">
	<p>CSS:</p>
	<pre><code data-language="css">
	/* CSS */
	p
	{
	  font-size: 16px;
	  font-weight: bold;
	}
	</code>
	</pre>
</body>
</html>


