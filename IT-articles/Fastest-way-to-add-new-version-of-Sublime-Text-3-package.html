<!doctype html><html lang="en"><head><meta charset="utf-8"><title>Fastest way to add new version of your Sublime Text package</title><meta content="Tutorial, how you can make release and changelog, use only one command" name="description"><meta content="width=device-width,initial-scale=1" name="viewport"><meta content="IE=edge" http-equiv="X-UA-Compatible"><meta content="Fastest way to add new version of your Sublime Text package" property="og:title"><meta content="article" property="og:type"><meta content="https://i.imgur.com/12fFJsX.png" property="og:image"><meta content="https://kristinita.netlify.com/IT-articles/Fastest-way-to-add-new-version-of-Sublime-Text-3-package.html" property="og:url"><meta content="Tutorial, how you can make release and changelog, use only one command" property="og:description"><meta content="" property="og:locale"><meta content="Поиск Кристиниты" property="og:site_name"><meta content="2018-01-23" property="article:published_time"><meta content="2019-06-14" property="article:modified_time"><meta content="IT-articles" property="article:section"><meta content="it-articles" property="article:tag"><meta content="sublime-text" property="article:tag"><meta content="release" property="article:tag"><script type="application/ld+json">{ "@context": "https://schema.org", "@type": "HowTo", "name": "Fastest way to add new version of your Sublime Text package", "description": "Tutorial, how you can make release and changelog, use only one command", "headline": "Fastest way to add new version of your Sublime Text package", "datePublished": "2018-01-23 10:43:14+03:00", "dateModified": "2019-06-14 15:47:18+03:00", "author": { "@type": "Person", "name": "Sasha Chernykh" }, "image": "https://i.imgur.com/12fFJsX.png", "url": "https://kristinita.netlify.com/IT-articles/Fastest-way-to-add-new-version-of-Sublime-Text-3-package.html" }</script><link href="https://kristinita.netlify.com/favicon.ico" rel="shortcut icon"><link href="https://kristinita.netlify.com/feeds/all.atom.xml" rel="alternate" type="application/atom+xml"><link href="https://kristinita.netlify.com/feeds/it-articles.atom.xml" rel="alternate" type="application/atom+xml"><script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js" defer></script><script src="https://kristinita.netlify.com/theme/js/target-blank/target-blank.min.e11e5105efa99a3d.js" defer></script><script src="https://cdn.jsdelivr.net/npm/gemini-scrollbar/index.min.js" defer></script><script src="https://kristinita.netlify.com/theme/js/Gemini/GeminiAndJQueryLazy.min.6e0d649a835b799d.js" defer></script><script src="https://cdn.jsdelivr.net/jquery.lazy/latest/jquery.lazy.min.js" defer></script><script src="https://cdn.jsdelivr.net/jquery.lazy/latest/jquery.lazy.plugins.min.js" defer></script><script src="https://kristinita.netlify.com/theme/js/Browser-Update/browser-update.min.e45fe54cc9cb8588.js" defer></script><script src="https://cdn.jsdelivr.net/npm/typo-reporter/lib/TypoReporter.min.js" defer></script><script src="https://kristinita.netlify.com/theme/js/typo-reporter/typo-reporter-en.min.f4d148db23221baf.js" defer></script><script src="https://cdn.jsdelivr.net/gh/fancyapps/fancybox/dist/jquery.fancybox.min.js" defer></script><script src="https://kristinita.netlify.com/theme/js/Fancybox/fancybox.min.eb8f09c393877937.js" defer></script><script src="https://cdn.jsdelivr.net/jquery.tooltipster/latest/js/tooltipster.bundle.min.js" defer></script><style>body,html{height:100%;overflow:hidden}.SashaBottomAside,a{overflow-wrap:break-word;word-break:break-all}body{font-family:Arial;font-size:1.1875rem;margin:0;padding:0}a{text-decoration:none}h1{font-size:1.9375rem;font-weight:lighter;font-style:normal}noscript{font-weight:700}noscript{color:#fff;font-family:sans-serif;text-align:center;padding:1rem 0;background:rgba(0,0,0,.9);position:fixed;top:0;z-index:1}img{max-width:100%;margin:0 auto}.SashaVersion{font-size:.9rem;font-weight:700}div.a2a_floating_style{padding:.0625rem;top:30%}.SashaBottomAside,h1{font-family:Play}.SashaBottomAside,h1{font-size:1.9375rem;font-weight:lighter;font-style:normal}a{font-style:italic}a{font-family:El Messiri;font-size:1.3rem;font-weight:700}.SashaIconAside{background-size:cover;height:100%;top:0}.SashaBottomAside{font-size:2rem;line-height:2rem;text-align:center;position:absolute;bottom:7%;left:10%;width:80%}@media screen and (orientation:portrait){.SashaIconAside{width:100%;position:relative}noscript{width:100%}}@media screen and (orientation:landscape){.SashaIconAside{width:35%;position:fixed}main,noscript{width:65%}}noscript{right:0}@media screen and (orientation:landscape){article{margin-right:2rem;margin-left:1rem}main{float:right}}@media screen and (orientation:portrait){article{margin-right:3rem;margin-left:1rem}}.a2a_floating_style{right:0}body{background:#87e1be;color:#465550}a{color:#dc3f17}img{box-shadow:0 0 2rem #000}.SashaPageLoading{box-shadow:none}.SashaBottomAside{color:#fff;bottom:8%}@font-face{font-family:'El Messiri';font-style:normal;font-weight:400;font-display:swap;src:local('El Messiri'),local('ElMessiri-Regular'),url(https://fonts.gstatic.com/s/elmessiri/v5/K2F0fZBRmr9vQ1pHEey6MomABw.ttf) format('truetype')}@font-face{font-family:Play;font-style:normal;font-weight:700;font-display:swap;src:local('Play Bold'),local('Play-Bold'),url(https://fonts.gstatic.com/s/play/v10/6ae84K2oVqwItm4TCpQy3w.ttf) format('truetype')}</style><link href="https://cdn.jsdelivr.net/jquery.tooltipster/latest/css/tooltipster.bundle.min.css" rel="preload" as="style" onload="this.onload=null;this.rel='stylesheet'"><noscript><link href="https://cdn.jsdelivr.net/jquery.tooltipster/latest/css/tooltipster.bundle.min.css" rel="stylesheet"></noscript><link href="https://cdn.jsdelivr.net/npm/tooltipster/dist/css/plugins/tooltipster/sideTip/themes/tooltipster-sideTip-punk.min.css" rel="preload" as="style" onload="this.onload=null;this.rel='stylesheet'"><noscript><link href="https://cdn.jsdelivr.net/npm/tooltipster/dist/css/plugins/tooltipster/sideTip/themes/tooltipster-sideTip-punk.min.css" rel="stylesheet"></noscript><script src="https://kristinita.netlify.com/theme/js/Tooltipster/tooltip.min.25ef24827c8d23a2.js" defer></script><script src="https://cdn.jsdelivr.net/clipboard.js/latest/clipboard.min.js" defer></script><script src="https://kristinita.netlify.com/theme/js/Clipboard-js/Clipboard.min.13347deb67c2a82a.js" defer></script><script src="https://static.addtoany.com/menu/page.js" defer></script><script src="https://kristinita.netlify.com/theme/js/AddToAny/addtoany.min.27de59cb13b5ac52.js" async></script><script src="https://kristinita.netlify.com/theme/js/Wildfire/wildfire.min.8244a84c73913d2e.js" async></script><script src="https://cdn.jsdelivr.net/npm/wildfire/dist/wildfire.auto.js" defer></script><link href="https://cdn.jsdelivr.net/npm/gemini-scrollbar/gemini-scrollbar.min.css" rel="preload" as="style" onload="this.onload=null;this.rel='stylesheet'"><noscript><link href="https://cdn.jsdelivr.net/npm/gemini-scrollbar/gemini-scrollbar.min.css" rel="stylesheet"></noscript><link href="https://kristinita.netlify.com/theme/css/script-colors/Gemini/gemini.min.32c3d46b921839e9.css" rel="preload" as="style" onload="this.onload=null;this.rel='stylesheet'"><noscript><link href="https://kristinita.netlify.com/theme/css/script-colors/Gemini/gemini.min.32c3d46b921839e9.css" rel="stylesheet"></noscript><link href="https://kristinita.netlify.com/theme/css/general/basic.min.1121ddf0fc6f1ad9.css" rel="preload" as="style" onload="this.onload=null;this.rel='stylesheet'"><noscript><link href="https://kristinita.netlify.com/theme/css/general/basic.min.1121ddf0fc6f1ad9.css" rel="stylesheet"></noscript><link href="https://kristinita.netlify.com/theme/css/general/fonts.min.c13d4c9888e80c80.css" rel="preload" as="style" onload="this.onload=null;this.rel='stylesheet'"><noscript><link href="https://kristinita.netlify.com/theme/css/general/fonts.min.c13d4c9888e80c80.css" rel="stylesheet"></noscript><link href="https://kristinita.netlify.com/theme/css/general/aside.min.3c708b5f0cf2ed0e.css" rel="preload" as="style" onload="this.onload=null;this.rel='stylesheet'"><noscript><link href="https://kristinita.netlify.com/theme/css/general/aside.min.3c708b5f0cf2ed0e.css" rel="stylesheet"></noscript><script src="https://kristinita.netlify.com/theme/js/Modernizr/modernizr-custom.min.03944c2c1dc0413e.js" defer></script><style>.webp .SashaIconAside{background-image:url(https://kristinita.netlify.com/theme/images/aside/SashaGreenSweater.webp)}.no-webp .SashaIconAside{background-image:url(https://kristinita.netlify.com/theme/images/aside/SashaGreenSweater.jpg)}</style><link href="https://kristinita.netlify.com/theme/css/general/image_left.min.7bc834d18484b4e0.css" rel="preload" as="style" onload="this.onload=null;this.rel='stylesheet'"><noscript><link href="https://kristinita.netlify.com/theme/css/general/image_left.min.7bc834d18484b4e0.css" rel="stylesheet"></noscript><link href="https://kristinita.netlify.com/theme/css/sections/it-articles.min.1ed27c76948cda1c.css" rel="preload" as="style" onload="this.onload=null;this.rel='stylesheet'"><noscript><link href="https://kristinita.netlify.com/theme/css/sections/it-articles.min.1ed27c76948cda1c.css" rel="stylesheet"></noscript><link href="https://cdn.jsdelivr.net/gh/fancyapps/fancybox/dist/jquery.fancybox.min.css" rel="preload" as="style" onload="this.onload=null;this.rel='stylesheet'"><noscript><link href="https://cdn.jsdelivr.net/gh/fancyapps/fancybox/dist/jquery.fancybox.min.css" rel="stylesheet"></noscript><link href="https://kristinita.netlify.com/theme/css/script-colors/typo-reporter/typo-reporter.min.af5bfd4b4bd72b30.css" rel="preload" as="style" onload="this.onload=null;this.rel='stylesheet'"><noscript><link href="https://kristinita.netlify.com/theme/css/script-colors/typo-reporter/typo-reporter.min.af5bfd4b4bd72b30.css" rel="stylesheet"></noscript><link href="https://kristinita.netlify.com/theme/css/script-colors/Admonition/admonition.min.990505cfb65657bf.css" rel="preload" as="style" onload="this.onload=null;this.rel='stylesheet'"><noscript><link href="https://kristinita.netlify.com/theme/css/script-colors/Admonition/admonition.min.990505cfb65657bf.css" rel="stylesheet"></noscript><link href="https://fonts.googleapis.com/css?family=Play:700%7CEl+Messiri%7CScada:700i%7CFira+Mono%7CMaterial+Icons%7CMarck+Script&amp;subset=cyrillic&amp;display=swap" rel="preload" as="style" onload="this.onload=null;this.rel='stylesheet'"><noscript><link href="https://fonts.googleapis.com/css?family=Play:700%7CEl+Messiri%7CScada:700i%7CFira+Mono%7CMaterial+Icons%7CMarck+Script&amp;subset=cyrillic&amp;display=swap" rel="stylesheet"></noscript></head><body><div role="alert"><noscript><p>Sorry, this site doesn't work, if JavaScript disabled. Please, <a href="http://activatejavascript.org/en/instructions">enable JavaScript for your browser</a>.</p><p>This site is open source; you can view <a href="https://github.com/Kristinita/Kristinita.github.io/blob/master/IT-articles/Fastest-way-to-add-new-version-of-Sublime-Text-3-package.html">source of this page</a>, to make sure that it's not dangerous for your computer.</p>Owner of this site think that <a href="https://stackoverflow.com/a/17073999/5951529">JavaScript disabling — is obsolete action in 2019</a> and <a href="https://www.reddit.com/r/webdev/comments/48z7jz/do_you_take_into_account_those_who_disable/d0nxftd/">will not support users who did this</a>. Probably, <a href="https://www.howtogeek.com/138865/htg-explains-should-you-disable-javascript/">you don't need turn off JavaScript</a>.</noscript><script>!function(n){"use strict";n.loadCSS||(n.loadCSS=function(){});var o=loadCSS.relpreload={};if(o.support=function(){var e;try{e=n.document.createElement("link").relList.supports("preload")}catch(t){e=!1}return function(){return e}}(),o.bindMediaToggle=function(t){var e=t.media||"all";function a(){t.addEventListener?t.removeEventListener("load",a):t.attachEvent&&t.detachEvent("onload",a),t.setAttribute("onload",null),t.media=e}t.addEventListener?t.addEventListener("load",a):t.attachEvent&&t.attachEvent("onload",a),setTimeout(function(){t.rel="stylesheet",t.media="only x"}),setTimeout(a,3e3)},o.poly=function(){if(!o.support())for(var t=n.document.getElementsByTagName("link"),e=0;e<t.length;e++){var a=t[e];"preload"!==a.rel||"style"!==a.getAttribute("as")||a.getAttribute("data-loadcss")||(a.setAttribute("data-loadcss",!0),o.bindMediaToggle(a))}},!o.support()){o.poly();var t=n.setInterval(o.poly,500);n.addEventListener?n.addEventListener("load",function(){o.poly(),n.clearInterval(t)}):n.attachEvent&&n.attachEvent("onload",function(){o.poly(),n.clearInterval(t)})}"undefined"!=typeof exports?exports.loadCSS=loadCSS:n.loadCSS=loadCSS}("undefined"!=typeof global?global:this);</script></div><aside role="presentation"><div class="a2a_floating_style a2a_kit a2a_kit_size_17 a2a_vertical_style"><a class="a2a_button_mastodon"></a> <a class="a2a_button_diaspora"></a> <a class="a2a_button_telegram"></a> <a class="a2a_button_care2_news"></a> <a class="a2a_button_printfriendly"></a> <a class="a2a_dd"></a></div></aside><aside class="SashaIconAside"><div class="SashaBottomAside">Fastest way to add new version of your Sublime Text package</div></aside><main><article><header><h1 class="SashaTopHeader">Fastest way to add new version of your Sublime Text package</h1><img alt="Page loading, please, little wait" class="SashaPageLoading" src="https://2no.co/1vWK5.png"><div class="SashaVersion">Version 0.3.0</div><div class="SashaVersion">Posted — 2018-01-23T10:43:14+0300</div><div class="SashaVersion">Last modified — 2019-06-14T15:47:18+0300</div></header><section><ol><li><a href="#Overview">Overview</a></li><li><a href="#Audience">Audience</a></li><li><a href="#Relevance">Relevance</a></li><li><a href="#Motivation">Motivation</a></li><li><a href="#Demonstration">Demonstration</a></li><li><a href="#Features">Features</a></li><li><a href="#Limitations">Limitations</a></li><li><a href="#Installation">Installation</a></li><li><a href="#Activation">Activation</a><ol><li><a href="#GitHub-token">GitHub token</a></li><li><a href="#Upstream-branch">Upstream branch</a></li><li><a href="#CHANGELOGmd">CHANGELOG.md</a></li><li><a href="#packagejson">package.json</a></li><li><a href="#release-itjson">.release-it.json</a></li><li><a href="#messagesjson">messages.json</a></li></ol></li><li><a href="#Usage">Usage</a></li><li><a href="#Details">Details</a><ol><li><a href="#release-it-command">release-it command</a></li><li><a href="#release-itjson-1">.release-it.json</a><ol><li><a href="#buildCommand">buildCommand</a></li><li><a href="#Another-lines">Another lines</a></li></ol></li></ol></li><li><a href="#Problems-and-non-fixed-bugs">Problems and non-fixed bugs</a></li><li><a href="#Testing-environment">Testing environment</a></li></ol><p><a id="Overview"></a></p><h2>1. Overview <a href="#Overview" class="headerlink" title="Permanent link">¶</a></h2><p>Tutorial, how you can quick to create detailed release and changelog for your Sublime Text package.</p><p><a id="Audience"></a></p><h2>2. Audience <a href="#Audience" class="headerlink" title="Permanent link">¶</a></h2><p>Inexperienced developers of Sublime Text 3 packages.</p><p>This article may be useful for any non-Sublime Text developers, which makes releases and changelog.</p><p><a id="Relevance"></a></p><h2>3. Relevance <a href="#Relevance" class="headerlink" title="Permanent link">¶</a></h2><p>This article is relevant for April 2018. In the future, the data in this article may be obsolete.</p><p><a id="Motivation"></a></p><h2>4. Motivation <a href="#Motivation" class="headerlink" title="Permanent link">¶</a></h2><p>When I create new release for my Sublime Text package, I need:</p><ol><li>Add changelog to <a href="https://github.com/Kristinita/SashaSublime/releases">GitHub release page</a>,</li><li>Update <em>CHANGELOG.md</em>,</li><li><a href="https://packagecontrol.io/docs/messaging">Update version in <em>messages.json</em></a>,</li><li>Add changelog to <em>messages/&lt;version&gt;.txt</em> file,</li></ol><p>It may take a lot of time.</p><p>In this article I wrote, how possible to make all these actions use solely one command in command line.</p><p><a id="Demonstration"></a></p><h2>5. Demonstration <a href="#Demonstration" class="headerlink" title="Permanent link">¶</a></h2><p>I <a href="https://github.com/Kristinita/SashaSublime/commit/40783aee5a678d62f4e703248c277c725246f1ea">push commit</a> to my GitHub repository → I enter in command line:</p><div class="SashaBlockHighlight"><pre><button class="SashaButton SashaTooltip"><img alt="Clipboard button" class="SashaNotModify" src="https://kristinita.netlify.com/theme/images/interface-images/clippy.svg"></button>release-it -n -V
</pre></div><p>Result: <a href="https://github.com/Kristinita/SashaSublime/commit/b6bbf815fc4e59eff72c99e454898ec92d021990">1</a>, <a href="https://github.com/Kristinita/SashaSublime/releases">2</a>.</p><p><em>CHANGELOG.md</em> and <em>messages.json</em>:</p><p><a href="https://i.imgur.com/12fFJsX.png" class="fancybox"><img alt="*CHANGELOG.md* and *messages.json*" class="SashaLazy" src="https://kristinita.netlify.com/theme/images/interface-images/transparent-one-pixel.png" data-src="https://i.imgur.com/12fFJsX.png"></a></p><p><em>messages/&lt;version&gt;.txt</em> and <em>package.json</em>:</p><p><a href="https://i.imgur.com/kkKjiv5.png" class="fancybox"><img alt="*messages/&lt;version&gt;.txt* and *package.json*" class="SashaLazy" src="https://kristinita.netlify.com/theme/images/interface-images/transparent-one-pixel.png" data-src="https://i.imgur.com/kkKjiv5.png"></a></p><p><a href="https://github.com/Kristinita/SashaSublime/releases">Releases page</a>:</p><p><a href="https://i.imgur.com/FwPHBZS.png" class="fancybox"><img alt="Releases page" class="SashaLazy" src="https://kristinita.netlify.com/theme/images/interface-images/transparent-one-pixel.png" data-src="https://i.imgur.com/FwPHBZS.png"></a></p><p>If you want to have same behavior, read on.</p><p><a id="Features"></a></p><h2>6. Features <a href="#Features" class="headerlink" title="Permanent link">¶</a></h2><p>Tutorial of this article must be support:</p><ol><li>cross-platform,</li><li><a href="https://semver.org/">Semver</a> <a href="https://semver.org/#spec-item-8">major</a>, <a href="https://semver.org/#spec-item-7">minor</a>, <a href="https://semver.org/#spec-item-6">patch</a> and custom tags.</li></ol><p><a id="Limitations"></a></p><h2>7. Limitations <a href="#Limitations" class="headerlink" title="Permanent link">¶</a></h2><ol><li>Your must host your package to GitHub. If your package on BitBucket, GitLab or another hosting, you can't make a release via <a href="https://github.com/webpro/release-it">release-it</a>.</li><li>Your commits must be must be compatible with <a href="https://conventionalcommits.org/">Conventional Commits</a>. <a href="https://conventionalcommits.org/">List of supported scopes</a>. I recommend use <a href="https://www.npmjs.com/package/commitizen">commitizen</a>.</li></ol><p><a id="Installation"></a></p><h2>8. Installation <a href="#Installation" class="headerlink" title="Permanent link">¶</a></h2><p>You need to install:</p><ol><li>Node.js and npm, if no;</li><li>git if no, even if you use another VCS;</li><li>UNIX commands <em>tee</em>, <em>cat</em>, <em>mv</em> and <em>sed</em>, if no; for Windows users I recommend install <a href="https://chocolatey.org/packages/Cygwin">Cygwin</a> and <a href="https://lifehacker.com/362316/use-unix-commands-in-windows-built-in-command-prompt">add to your <em>Path</em> environment variable value — path to Cygwin commands folder</a>;</li><li><a href="https://www.npmjs.com/package/release-it#global">release-it globally</a> <a href="https://github.com/webpro/release-it/issues/233">≥ 7.3.0</a>;</li><li><a href="https://www.npmjs.com/package/generate-changelog#installation">generate-changelog globally</a>;</li><li><a href="https://www.npmjs.com/package/js-beautify">npm js-beautify globally</a>.</li></ol><p><a id="Activation"></a></p><h2>9. Activation <a href="#Activation" class="headerlink" title="Permanent link">¶</a></h2><p>You need to create all files from this section in root folder of your package repository.</p><p>You can see configuration files of real package in <a href="https://github.com/Kristinita/SashaSublime">SashaSublime repository</a>.</p><div class="admonition caution"><p class="admonition-title">Caution</p><p>I recommend in first do actions from <a href="#Activation">Activation</a> and <a href="#Usage">Usage</a> sections in the test repository, not real. Argumentation:</p><ul><li>You or I can make a typo(s);</li><li>Differences in my and your environments;</li><li>Different versions of tools from this article can do another behavior, <a href="https://github.com/webpro/release-it/issues/233">example</a></li></ul></div><p><a id="GitHub-token"></a></p><h3>9.1. GitHub token <a href="#GitHub-token" class="headerlink" title="Permanent link">¶</a></h3><p><a href="https://www.npmjs.com/package/release-it#%EF%B8%8F-github-release">Get your GitHub token and add environment variable with value — your token</a>.</p><p>You need to select all <em>repo</em> scopes.</p><p><a href="https://i.imgur.com/sWfide5.png" class="fancybox"><img alt="GitHub token" class="SashaLazy" src="https://kristinita.netlify.com/theme/images/interface-images/transparent-one-pixel.png" data-src="https://i.imgur.com/sWfide5.png"></a></p><p><a id="Upstream-branch"></a></p><h3>9.2. Upstream branch <a href="#Upstream-branch" class="headerlink" title="Permanent link">¶</a></h3><p>You need to <a href="https://stackoverflow.com/a/6089415/5951529">set upstream branch</a>:</p><div class="SashaBlockHighlight"><pre><button class="SashaButton SashaTooltip"><img alt="Clipboard button" class="SashaNotModify" src="https://kristinita.netlify.com/theme/images/interface-images/clippy.svg"></button>git checkout yourbranch
git branch --set-upstream
</pre></div><ul><li><em>yourbranch</em> — name of branch, which you want to do upstream. Please, change <em>yourbranch</em> to real branch name.</li></ul><p><a id="CHANGELOGmd"></a></p><h3>9.3. CHANGELOG.md <a href="#CHANGELOGmd" class="headerlink" title="Permanent link">¶</a></h3><p>Create blank file <em>CHANGELOG.md</em>. If no, generate-changelog will works incorrect.</p><p><a id="packagejson"></a></p><h3>9.4. package.json <a href="#packagejson" class="headerlink" title="Permanent link">¶</a></h3><div class="SashaBlockHighlight"><pre><button class="SashaButton SashaTooltip"><img alt="Clipboard button" class="SashaNotModify" src="https://kristinita.netlify.com/theme/images/interface-images/clippy.svg"></button><span class="p">{</span>
	<span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;SashaSublime&quot;</span><span class="p">,</span>
	<span class="nt">&quot;version&quot;</span><span class="p">:</span> <span class="s2">&quot;4.14.7&quot;</span><span class="p">,</span>
	<span class="nt">&quot;scripts&quot;</span><span class="p">:</span> <span class="p">{</span>
	<span class="nt">&quot;release&quot;</span><span class="p">:</span> <span class="s2">&quot;release-it&quot;</span>
	<span class="p">}</span>
<span class="p">}</span>
</pre></div><ul><li><em>SashaSublime</em> — name of your package,</li><li><em>4.14.7</em> — previous version of your package. Use <em>0.0.0</em>, if you add first release for your package.</li></ul><p>Replace <em>SashaSublime</em> and <em>4.14.7</em> to your real values.</p><p><a id="release-itjson"></a></p><h3>9.5. .release-it.json <a href="#release-itjson" class="headerlink" title="Permanent link">¶</a></h3><div class="SashaBlockHighlight"><pre><button class="SashaButton SashaTooltip"><img alt="Clipboard button" class="SashaNotModify" src="https://kristinita.netlify.com/theme/images/interface-images/clippy.svg"></button><span class="p">{</span>
	<span class="nt">&quot;buildCommand&quot;</span><span class="p">:</span> <span class="s2">&quot;changelog -f - -u https:\/\/${repo.host}\/${repo.repository} | tee messages\/${version}.txt | cat - CHANGELOG.md &gt; temp &amp;&amp; mv temp CHANGELOG.md &amp;&amp; sed -i &#39;\/\\\&quot;install\\\&quot;: \\\&quot;messages\\\/install\\.txt\\\&quot;\/i\\\&quot;${version}\\\&quot;: \\\&quot;messages\\\/${version}\\.txt\\\&quot;,&#39; messages.json &amp;&amp; js-beautify -r messages.json&quot;</span><span class="p">,</span>
	<span class="nt">&quot;changelogCommand&quot;</span><span class="p">:</span> <span class="s2">&quot;changelog -f -&quot;</span><span class="p">,</span>
	<span class="nt">&quot;github&quot;</span><span class="p">:</span> <span class="p">{</span>
		<span class="nt">&quot;release&quot;</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
		<span class="nt">&quot;tokenRef&quot;</span><span class="p">:</span> <span class="s2">&quot;TOKEN_GITHUB_FOR_RELEASE_IT&quot;</span>
	<span class="p">},</span>
	<span class="nt">&quot;npm&quot;</span><span class="p">:</span> <span class="p">{</span>
		<span class="nt">&quot;publish&quot;</span><span class="p">:</span> <span class="kc">false</span>
	<span class="p">},</span>
	<span class="nt">&quot;safeBump&quot;</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
	<span class="nt">&quot;src&quot;</span><span class="p">:</span> <span class="p">{</span>
		<span class="nt">&quot;addUntrackedFiles&quot;</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
		<span class="nt">&quot;tagName&quot;</span><span class="p">:</span> <span class="s2">&quot;st3-%s&quot;</span>
	<span class="p">}</span>
<span class="p">}</span>
</pre></div><div class="admonition hint"><p class="admonition-title">Hint</p><p>Pay attention to slashes escaping. To convert terminal command to JSON I recommend to use <a href="https://www.freeformatter.com/json-escape.html#ad-output">freeformatter.com service</a>. For example:</p><div class="SashaBlockHighlight"><pre><button class="SashaButton SashaTooltip"><img alt="Clipboard button" class="SashaNotModify" src="https://kristinita.netlify.com/theme/images/interface-images/clippy.svg"></button>sed -i <span class="s1">&#39;/\&quot;install\&quot;\: \&quot;messages\/install\.txt\&quot;/i\&quot;4\.14\.7\&quot;\: \&quot;messages\/4\.14\.7\.txt\&quot;,&#39;</span> messages.json
</pre></div><p>will convert to:</p><div class="SashaBlockHighlight"><pre><button class="SashaButton SashaTooltip"><img alt="Clipboard button" class="SashaNotModify" src="https://kristinita.netlify.com/theme/images/interface-images/clippy.svg"></button><span class="err">sed</span> <span class="err">-i</span> <span class="err">&#39;\/\\\</span><span class="s2">&quot;install\\\&quot;: \\\&quot;messages\\\/install\\.txt\\\&quot;\/i\\\&quot;${version}\\\&quot;: \\\&quot;messages\\\/${version}\\.txt\\\&quot;</span><span class="err">,&#39;</span> <span class="err">messages.json</span>
</pre></div></div><p><a id="messagesjson"></a></p><h3>9.6. messages.json <a href="#messagesjson" class="headerlink" title="Permanent link">¶</a></h3><div class="SashaBlockHighlight"><pre><button class="SashaButton SashaTooltip"><img alt="Clipboard button" class="SashaNotModify" src="https://kristinita.netlify.com/theme/images/interface-images/clippy.svg"></button><span class="p">{</span>
	<span class="nt">&quot;install&quot;</span><span class="p">:</span> <span class="s2">&quot;messages/install.txt&quot;</span>
<span class="p">}</span>
</pre></div><p><a id="Usage"></a></p><h2>10. Usage <a href="#Usage" class="headerlink" title="Permanent link">¶</a></h2><p>Add, commit and push your changes to remote GitHub repository. Example:</p><div class="SashaBlockHighlight"><pre><button class="SashaButton SashaTooltip"><img alt="Clipboard button" class="SashaNotModify" src="https://kristinita.netlify.com/theme/images/interface-images/clippy.svg"></button># Make any changes
D<span class="p">:</span><span class="nl">\SashaSublime</span><span class="c1">&gt;git add .</span>

# I use commitizen instead of git commit
D<span class="p">:</span><span class="nl">\SashaSublime</span><span class="c1">&gt;git cz</span>
cz-cli@2.9.6, cz-conventional-changelog@1.2.0


Line 1 will be cropped at 100 characters. All other lines will be wrapped after 100 characters.

? Select the type of change that you&#39;re committing: build:     Changes that affect the build system or external dependencies (example scopes: gulp, broccoli, npm)
? Denote the scope of this change ($location, $browser, $compile, etc.):
release-it
? Write a short, imperative tense description of the change:
Fix .release-it.json
? Provide a longer description of the change:
Add to .release-it.json URL of SashaSublime repository
? List any breaking changes or issues closed by this change:

[SashaDevelop 52e517a] build(release-it): Fix .release-it.json
1 file changed, 2 insertions(+), 1 deletion(-)

D<span class="p">:</span><span class="nl">\SashaSublime</span><span class="c1">&gt;git push</span>
Counting objects: 3, done.
Delta compression using up to 4 threads.
Compressing objects: 100% (2/2), done.
Writing objects: 100% (3/3), 735 bytes <span class="p">|</span> 183.00 KiB/s, done.
Total 3 (delta 1), reused 0 (delta 0)
remote: Resolving deltas: 100% (1/1), completed with 1 local object.
To https://github.com/Kristinita/SashaSublime.git
	0360628..52e517a  SashaDevelop -<span class="p">&gt;</span> SashaDevelop
</pre></div><p>Now run <a href="https://www.npmjs.com/package/release-it#%EF%B8%8F-usage">one of command</a>:</p><ul><li><em>release-it -n -V</em> or <em>release-it patch -n -V</em> — for release patch version;</li><li><em>release-it --minor -n -V</em> — for release minor version;</li><li><em>release-it --major -n -V</em> — for release major version;</li><li><em>release-it 4.14.7 -n -V</em> — for release custom version; <em>4.14.7</em> in example.</li></ul><p>Also you can <a href="https://www.npmjs.com/package/release-it">create pre-releases</a>.</p><p>Example result see in <a href="#Demonstration">demonstration</a> section.</p><p><a id="Details"></a></p><h2>11. Details <a href="#Details" class="headerlink" title="Permanent link">¶</a></h2><p>If you want to know, how files and commands works, please, read this section.</p><p><a id="release-it-command"></a></p><h3>11.1. release-it command <a href="#release-it-command" class="headerlink" title="Permanent link">¶</a></h3><div class="SashaBlockHighlight"><pre><button class="SashaButton SashaTooltip"><img alt="Clipboard button" class="SashaNotModify" src="https://kristinita.netlify.com/theme/images/interface-images/clippy.svg"></button>release-it -n -V
</pre></div><ul><li><em>-n</em> — <a href="https://www.npmjs.com/package/release-it#-interactive-vs-non-interactive-mode">non-interactive mode</a>. That you don't need input values each time manually.</li><li><em>-V</em> — verbose. You can disable this command-line argument, but if you will get a bug, this argument may help you.</li></ul><p><a id="release-itjson-1"></a></p><h3>11.2. .release-it.json <a href="#release-itjson-1" class="headerlink" title="Permanent link">¶</a></h3><p><a id="buildCommand"></a></p><h4>11.2.1. buildCommand <a href="#buildCommand" class="headerlink" title="Permanent link">¶</a></h4><ul><li><em>changelog -f -</em> — generate changelog. <em>-</em> — argument, that changelog <a href="https://unix.stackexchange.com/a/419416/237999">stdout to console</a>,</li><li><p><code class="SashaInlineHighlight">-u https:\/\/${repo.host}\/${repo.repository}</code> — support URL's in changelog, that the user can quick go to the commit link. <code class="SashaInlineHighlight">${repo.host}</code> — github.com. <code class="SashaInlineHighlight">${repo.repository}</code> — <code class="SashaInlineHighlight">&lt;your username&gt;/&lt;your repository&gt;</code>, <code class="SashaInlineHighlight">Kristinita/SashaSublime</code> for my example.</p><p>Example:</p><ul><li>if <code class="SashaInlineHighlight">-u https:\/\/${repo.host}\/${repo.repository}</code>, changelog generate <code class="SashaInlineHighlight">([40783aee](https://github.com/Kristinita/SashaSublime/commit/40783aee5a678d62f4e703248c277c725246f1ea))</code>,</li><li>if no <code class="SashaInlineHighlight">-u https:\/\/${repo.host}\/${repo.repository}</code>, changelog generate <code class="SashaInlineHighlight">(40783aee)</code>.</li></ul></li><li><p><code class="SashaInlineHighlight"><span class="err">tee</span> <span class="err">messages\/$</span><span class="p">{</span><span class="err">version</span><span class="p">}</span><span class="err">.txt</span></code> — output changelog to <em>messages/&lt;your new release&gt;.txt</em> file. File <em>&lt;your new release&gt;.txt</em> will create automatically. See <a href="https://www.computerhope.com/unix/utee.htm">description of <em>tee</em> command</a>.</p></li><li><code class="SashaInlineHighlight">cat - CHANGELOG.md &gt; temp <span class="o">&amp;&amp;</span> mv temp CHANGELOG.md</code> — <a href="https://superuser.com/a/246841/572069">append changelog at beginning</a> of <em>CHANGELOG.md</em> file. <em>CHANGELOG.md</em> do not overwrite.</li><li><code class="SashaInlineHighlight"><span class="err">sed</span> <span class="err">-i</span> <span class="err">&#39;\/\\\</span><span class="s2">&quot;install\\\&quot;: \\\&quot;messages\\\/install\\.txt\\\&quot;\/i\\\&quot;${version}\\\&quot;: \\\&quot;messages\\\/${version}\\.txt\\\&quot;</span><span class="err">,&#39;</span> <span class="err">messages.json</span></code> — <a href="https://stackoverflow.com/a/11695098/5951529">add</a> <code class="SashaInlineHighlight"><span class="s2">&quot;&lt;your version&gt;&quot;</span><span class="err">:</span> <span class="s2">&quot;messages/&lt;your version&gt;.txt&quot;</span><span class="err">,</span></code> line before <code class="SashaInlineHighlight"><span class="s2">&quot;install&quot;</span><span class="err">:</span> <span class="s2">&quot;messages/install.txt&quot;</span></code> line.</li><li><code class="SashaInlineHighlight">js-beautify -r messages.json</code> — <a href="https://www.npmjs.com/package/js-beautify#options">beautify <em>messages.json</em> file in-place</a></li></ul><p><a id="Another-lines"></a></p><h4>11.2.2. Another lines <a href="#Another-lines" class="headerlink" title="Permanent link">¶</a></h4><ul><li><em>changelogCommand</em> — command, that generate changelog to <code class="SashaInlineHighlight">https://github.com/&lt;your username&gt;/&lt;your repository&gt;/releases</code>. Command must stdout to console.</li><li><code class="SashaInlineHighlight"><span class="s2">&quot;release&quot;</span><span class="err">:</span> <span class="kc">true</span><span class="err">,</span></code> — <a href="https://www.npmjs.com/package/release-it#%EF%B8%8F-configuration">post changelog</a> to <code class="SashaInlineHighlight">https://github.com/&lt;your username&gt;/&lt;your repository&gt;/releases</code>.</li><li><em>TOKEN_GITHUB_FOR_RELEASE_IT</em> — your <a href="#Github-token"><em>TOKEN_GITHUB_FOR_RELEASE_IT</em> environment variable</a>,</li><li><code class="SashaInlineHighlight"><span class="s2">&quot;npm&quot;</span><span class="err">:</span> <span class="p">{</span><span class="nt">&quot;publish&quot;</span><span class="p">:</span> <span class="kc">false</span><span class="p">}</span><span class="err">,</span></code> — don't publish release to <a href="https://www.npmjs.com/">npm</a>. We are writing Sublime Text package, not npm modules, so needs this parameter.</li><li><code class="SashaInlineHighlight"><span class="s2">&quot;safeBump&quot;</span><span class="err">:</span> <span class="kc">false</span><span class="err">,</span></code> — that correct version in <code class="SashaInlineHighlight">https://github.com/&lt;your username&gt;/&lt;your repository&gt;/releases</code>; see <a href="https://github.com/webpro/release-it/issues/218">issue</a> for details.</li><li><code class="SashaInlineHighlight"><span class="s2">&quot;addUntrackedFiles&quot;</span><span class="err">:</span> <span class="kc">true</span><span class="err">,</span></code> — add <a href="https://git-scm.com/book/en/v2/Git-Basics-Recording-Changes-to-the-Repository">untracked file</a> <em>messages/&lt;version&gt;.txt</em> <a href="https://github.com/webpro/release-it/issues/233">to release commit</a>.</li><li><code class="SashaInlineHighlight"><span class="s2">&quot;tagName&quot;</span><span class="err">:</span> <span class="s2">&quot;st3-%s&quot;</span></code> — <a href="https://github.com/wbond/package_control/issues/1217#issuecomment-280041797">correct tag name</a> for Package Control. Tags for Sublime Text 3 must be in <em>st3-&lt;your version&gt;</em> format, for example — <em>st3-4.14.7</em>.</li></ul><p><a id="Problems-and-non-fixed-bugs"></a></p><h2>12. Problems and non-fixed bugs <a href="#Problems-and-non-fixed-bugs" class="headerlink" title="Permanent link">¶</a></h2><ol><li><a href="https://github.com/lob/generate-changelog/issues/37">You can't use</a> <a href="https://github.com/ngryman/cz-emoji">cz-emoji</a> for commit generation. Changelog will blank.</li><li>release-it <a href="https://github.com/webpro/release-it/issues/218">can works incorrect</a> in <em>--dry-run</em> mode.</li><li><a href="https://github.com/webpro/release-it/issues/213">You can have bugs</a>, if you want to use <em>${changelog}</em> release-it variable.</li></ol><p><a id="Testing-environment"></a></p><h2>13. Testing environment <a href="#Testing-environment" class="headerlink" title="Permanent link">¶</a></h2><ul><li>Windows 10 Enterprise LTSB 64-bit EN,</li><li>Node.js 9.4.0,</li><li>git 2.16.0.windows.2,</li><li>release-it 7.3.0,</li><li>changelog 1.7.0,</li><li>tee (GNU coreutils) 8.26, packaged by Cygwin (8.26-1),</li><li>cat (GNU coreutils) 8.26, packaged by Cygwin (8.26-1),</li><li>mv (GNU coreutils) 8.26, packaged by Cygwin (8.26-1),</li><li>sed (GNU sed) 4.2.2,</li><li>js-beautify 1.7.5.</li></ul></section><footer><div class="clearfix"><span class="SashaHeadPageLeft"><a href="https://kristinita.netlify.com" title="Kristinita's Search">Kristinita's Search</a></span> <span class="SashaNextNeighbor"><a href="https://kristinita.netlify.com/IT-articles/How-to-publish-your-package-to-PyPI-2018.html" title="How to publish your package to PyPI, 2018">Next article →</a></span></div><div class="SashaClearBoth"></div><div class="SashaEmNoColorBottom"><p><a id="Like"></a></p><h2>Like? <a href="#Like" class="headerlink" title="Permanent link">¶</a></h2><ol><li>Share this web-page in your preferred social network, use share buttons on the side of page.</li><li><p>Subcsribe to all articles or specific tag/category, use your preferred RSS Reader. I use <a href="http://quiterss.org">QuiteRSS</a> for Windows.</p></li></ol><p><a id="Problems"></a></p><h2>Problems? <a href="#Problems" class="headerlink" title="Permanent link">¶</a></h2><ol><li>(PC only, not for mobile devices). If you find in this article typo or small error, please, report about it use <a href="https://kristinita.netlify.com/IT-articles/typo-reporter">typo-reporter</a>. Select text with typo → press <kbd>Ctrl+Enter</kbd> (<kbd>⌘Enter</kbd> for Mac) → write comment → send typo report.</li><li>If you find more serious errors in this article and/or site, <a href="https://github.com/Kristinita/KristinitaPelican/issues/new">create GitHub issue</a>.</li><li>You can also <a href="https://github.com/Kristinita/KristinitaPelican/edit/master/content/IT-articles/Fastest-way-to-add-new-version-of-Sublime-Text-3-package.md">edit this page yourself</a> and send <a href="http://ru.stackoverflow.com/a/598162/199934">pull request</a>.</li><li>Or write comment here. <a href="https://github.github.com/gfm/">Markdown GFM support in comments</a>. You can use <a href="https://github.com/GhostText/GhostText">GhostText</a>, that write issue in your preferred editor.<div class="wildfire_thread"></div></li></ol><p>I hate private communication, solely open support.</p><p>If you write in the style of <a href="https://kristinita.netlify.com/Smert-svobode/%D0%9D%D0%BE%D0%B2%D1%8B%D0%B5-%D0%BD%D0%B5%D0%B4%D0%BE%D0%B2%D0%BE%D0%BB%D1%8C%D0%BD%D1%8B%D0%B5-%D1%80%D1%83%D1%81%D1%81%D0%BA%D0%B8%D0%B5">new disgruntled Russian</a> I reserve the right to dispose of my own discretion.</p><p>All rights reserved ©.</p></div><div class="WorkOnYourself">Работайте над собой</div></footer></article></main></body></html>
