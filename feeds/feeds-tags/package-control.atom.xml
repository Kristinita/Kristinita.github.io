<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom"><title>Поиск Кристиниты - package-control</title><link href="https://kristinita.netlify.app/" rel="alternate"></link><link href="https://kristinita.netlify.app/feeds/feeds-tags/package-control.atom.xml" rel="self"></link><id>https://kristinita.netlify.app/</id><updated>2022-09-08T20:02:40+03:00</updated><entry><title>Fastest way to add new version of your Sublime Text package</title><link href="https://kristinita.netlify.app/IT-articles/Fastest-way-to-add-new-version-of-Sublime-Text-3-package.html" rel="alternate"></link><published>2018-01-23T10:43:14+03:00</published><updated>2022-09-08T20:02:40+03:00</updated><author><name>Sasha Chernykh</name></author><id>tag:kristinita.netlify.app,2018-01-23:/IT-articles/Fastest-way-to-add-new-version-of-Sublime-Text-3-package.html</id><summary type="html">&lt;p&gt;Tutorial, how you can make release and changelog, use only one command
&lt;img alt="Package Control messages" src="https://i.imgur.com/J5AuHmX.png"&gt;
&lt;img alt="*CHANGELOG.md* and *messages.json*" src="https://i.imgur.com/12fFJsX.png"&gt;
&lt;img alt="*messages/&amp;lt;version&amp;gt;.txt* and *package.json*" src="https://i.imgur.com/kkKjiv5.png"&gt;
&lt;img alt="Releases page" src="https://i.imgur.com/FwPHBZS.png"&gt;&lt;/p&gt;</summary><content type="html">&lt;div class="admonition note"&gt;
&lt;p class="admonition-title"&gt;Possibly outdated data&lt;/p&gt;
&lt;p&gt;I wrote this article in January 2018. Some information from it may be out of date.&lt;/p&gt;
&lt;p&gt;June 6 2021&lt;/p&gt;
&lt;/div&gt;
&lt;!-- MarkdownTOC --&gt;

&lt;ol&gt;
&lt;li&gt;&lt;a href="#Overview"&gt;Overview&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#Audience"&gt;Audience&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#Relevance"&gt;Relevance&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#Motivation"&gt;Motivation&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#Demonstration"&gt;Demonstration&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#Features"&gt;Features&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#Limitations"&gt;Limitations&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#Installation"&gt;Installation&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#Activation"&gt;Activation&lt;/a&gt;&lt;ol&gt;
&lt;li&gt;&lt;a href="#GitHub-token"&gt;GitHub token&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#Upstream-branch"&gt;Upstream branch&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#CHANGELOGmd"&gt;CHANGELOG.md&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#packagejson"&gt;package.json&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#release-itjson"&gt;.release-it.json&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#messagesjson"&gt;messages.json&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#Usage"&gt;Usage&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#Details"&gt;Details&lt;/a&gt;&lt;ol&gt;
&lt;li&gt;&lt;a href="#release-it-command"&gt;release-it command&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#release-itjson-1"&gt;.release-it.json&lt;/a&gt;&lt;ol&gt;
&lt;li&gt;&lt;a href="#buildCommand"&gt;buildCommand&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#Another-lines"&gt;Another lines&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#Problems-and-non-fixed-bugs"&gt;Problems and non-fixed bugs&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#Testing-environment"&gt;Testing environment&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;!-- /MarkdownTOC --&gt;

&lt;p&gt;&lt;a id="Overview"&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h2&gt;1. Overview&lt;/h2&gt;
&lt;p&gt;Tutorial, how you can quick to create detailed release and changelog for your Sublime Text package.&lt;/p&gt;
&lt;p&gt;&lt;a id="Audience"&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h2&gt;2. Audience&lt;/h2&gt;
&lt;p&gt;Inexperienced developers of Sublime Text 3 packages.&lt;/p&gt;
&lt;p&gt;This article may be useful for any non-Sublime Text developers, which makes releases and changelog.&lt;/p&gt;
&lt;p&gt;&lt;a id="Relevance"&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h2&gt;3. Relevance&lt;/h2&gt;
&lt;p&gt;This article is relevant for April 2018. In the future, the data in this article may be obsolete.&lt;/p&gt;
&lt;p&gt;&lt;a id="Motivation"&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h2&gt;4. Motivation&lt;/h2&gt;
&lt;p&gt;When I create new release for my Sublime Text package, I need:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Add changelog to &lt;a href="https://github.com/Kristinita/SashaSublime/releases" rel="noopener" target="_blank"&gt;GitHub release page&lt;/a&gt;,&lt;/li&gt;
&lt;li&gt;Update &lt;em&gt;CHANGELOG.md&lt;/em&gt;,&lt;/li&gt;
&lt;li&gt;&lt;a href="https://packagecontrol.io/docs/messaging" rel="noopener" target="_blank"&gt;Update version in &lt;em&gt;messages.json&lt;/em&gt;&lt;/a&gt;,&lt;/li&gt;
&lt;li&gt;Add changelog to &lt;em&gt;messages/&amp;lt;version&amp;gt;.txt&lt;/em&gt; file,&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;It may take a lot of time.&lt;/p&gt;
&lt;p&gt;In this article I wrote, how possible to make all these actions use solely one command in command line.&lt;/p&gt;
&lt;p&gt;&lt;a id="Demonstration"&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h2&gt;5. Demonstration&lt;/h2&gt;
&lt;p&gt;I &lt;a href="https://github.com/Kristinita/SashaSublime/commit/40783aee5a678d62f4e703248c277c725246f1ea" rel="noopener" target="_blank"&gt;push commit&lt;/a&gt; to my GitHub repository → I enter in command line:&lt;/p&gt;
&lt;div class="SashaBlockHighlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;release-it -n -V
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Result: &lt;a href="https://github.com/Kristinita/SashaSublime/commit/b6bbf815fc4e59eff72c99e454898ec92d021990" rel="noopener" target="_blank"&gt;1&lt;/a&gt;, &lt;a href="https://github.com/Kristinita/SashaSublime/releases" rel="noopener" target="_blank"&gt;2&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;&lt;em&gt;CHANGELOG.md&lt;/em&gt; and &lt;em&gt;messages.json&lt;/em&gt;:&lt;/p&gt;
&lt;p&gt;&lt;img alt="*CHANGELOG.md* and *messages.json*" src="https://i.imgur.com/12fFJsX.png"&gt;&lt;/p&gt;
&lt;p&gt;&lt;em&gt;messages/&amp;lt;version&amp;gt;.txt&lt;/em&gt; and &lt;em&gt;package.json&lt;/em&gt;:&lt;/p&gt;
&lt;p&gt;&lt;img alt="*messages/&amp;lt;version&amp;gt;.txt* and *package.json*" src="https://i.imgur.com/kkKjiv5.png"&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="https://github.com/Kristinita/SashaSublime/releases" rel="noopener" target="_blank"&gt;Releases page&lt;/a&gt;:&lt;/p&gt;
&lt;p&gt;&lt;img alt="Releases page" src="https://i.imgur.com/FwPHBZS.png"&gt;&lt;/p&gt;
&lt;p&gt;If you want to have same behavior, read on.&lt;/p&gt;
&lt;p&gt;&lt;a id="Features"&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h2&gt;6. Features&lt;/h2&gt;
&lt;p&gt;Tutorial of this article must be support:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;cross-platform,&lt;/li&gt;
&lt;li&gt;&lt;a href="https://semver.org/" rel="noopener" target="_blank"&gt;Semver&lt;/a&gt; &lt;a href="https://semver.org/#spec-item-8" rel="noopener" target="_blank"&gt;major&lt;/a&gt;, &lt;a href="https://semver.org/#spec-item-7" rel="noopener" target="_blank"&gt;minor&lt;/a&gt;, &lt;a href="https://semver.org/#spec-item-6" rel="noopener" target="_blank"&gt;patch&lt;/a&gt; and custom tags.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;a id="Limitations"&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h2&gt;7. Limitations&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;Your must host your package to GitHub. If your package on BitBucket, GitLab or another hosting, you can’t make a release via &lt;a href="https://github.com/webpro/release-it" rel="noopener" target="_blank"&gt;release-it&lt;/a&gt;.&lt;/li&gt;
&lt;li&gt;Your commits must be must be compatible with &lt;a href="https://conventionalcommits.org/" rel="noopener" target="_blank"&gt;Conventional Commits&lt;/a&gt;. &lt;a href="https://conventionalcommits.org/" rel="noopener" target="_blank"&gt;List of supported scopes&lt;/a&gt;. I recommend use &lt;a href="https://www.npmjs.com/package/commitizen" rel="noopener" target="_blank"&gt;commitizen&lt;/a&gt;.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;a id="Installation"&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h2&gt;8. Installation&lt;/h2&gt;
&lt;p&gt;You need to install:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Node.js and npm, if no;&lt;/li&gt;
&lt;li&gt;git if no, even if you use another VCS;&lt;/li&gt;
&lt;li&gt;UNIX commands &lt;em&gt;tee&lt;/em&gt;, &lt;em&gt;cat&lt;/em&gt;, &lt;em&gt;mv&lt;/em&gt; and &lt;em&gt;sed&lt;/em&gt;, if no; for Windows users I recommend install &lt;a href="https://chocolatey.org/packages/Cygwin" rel="noopener" target="_blank"&gt;Cygwin&lt;/a&gt; and &lt;a href="https://lifehacker.com/362316/use-unix-commands-in-windows-built-in-command-prompt" rel="noopener" target="_blank"&gt;add to your &lt;em&gt;Path&lt;/em&gt; environment variable value — path to Cygwin commands folder&lt;/a&gt;;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://www.npmjs.com/package/release-it#global" rel="noopener" target="_blank"&gt;release-it globally&lt;/a&gt; &lt;a href="https://github.com/webpro/release-it/issues/233" rel="noopener" target="_blank"&gt;≥ 7.3.0&lt;/a&gt;;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://www.npmjs.com/package/generate-changelog#installation" rel="noopener" target="_blank"&gt;generate-changelog globally&lt;/a&gt;;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://www.npmjs.com/package/js-beautify" rel="noopener" target="_blank"&gt;npm js-beautify globally&lt;/a&gt;.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;a id="Activation"&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h2&gt;9. Activation&lt;/h2&gt;
&lt;p&gt;You need to create all files from this section in root folder of your package repository.&lt;/p&gt;
&lt;p&gt;You can see configuration files of real package in &lt;a href="https://github.com/Kristinita/SashaSublime" rel="noopener" target="_blank"&gt;SashaSublime repository&lt;/a&gt;.&lt;/p&gt;
&lt;div class="admonition caution"&gt;
&lt;p class="admonition-title"&gt;Caution&lt;/p&gt;
&lt;p&gt;I recommend in first do actions from &lt;a href="#Activation"&gt;Activation&lt;/a&gt; and &lt;a href="#Usage"&gt;Usage&lt;/a&gt; sections in the test repository, not real. Argumentation:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;You or I can make a typo(s);&lt;/li&gt;
&lt;li&gt;Differences in my and your environments;&lt;/li&gt;
&lt;li&gt;Different versions of tools from this article can do another behavior, &lt;a href="https://github.com/webpro/release-it/issues/233" rel="noopener" target="_blank"&gt;example&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;p&gt;&lt;a id="GitHub-token"&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h3&gt;9.1. GitHub token&lt;/h3&gt;
&lt;p&gt;&lt;a href="https://www.npmjs.com/package/release-it#%EF%B8%8F-github-release" rel="noopener" target="_blank"&gt;Get your GitHub token and add environment variable with value — your token&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;You need to select all &lt;em&gt;repo&lt;/em&gt; scopes.&lt;/p&gt;
&lt;p&gt;&lt;img alt="GitHub token" src="https://i.imgur.com/sWfide5.png"&gt;&lt;/p&gt;
&lt;p&gt;&lt;a id="Upstream-branch"&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h3&gt;9.2. Upstream branch&lt;/h3&gt;
&lt;p&gt;You need to &lt;a href="https://stackoverflow.com/a/6089415/5951529" rel="noopener" target="_blank"&gt;set upstream branch&lt;/a&gt;:&lt;/p&gt;
&lt;div class="SashaBlockHighlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;git checkout yourbranch
git branch --set-upstream
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;ul&gt;
&lt;li&gt;&lt;em&gt;yourbranch&lt;/em&gt; — name of branch, which you want to do upstream. Please, change &lt;em&gt;yourbranch&lt;/em&gt; to real branch name.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;a id="CHANGELOGmd"&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h3&gt;9.3. CHANGELOG.md&lt;/h3&gt;
&lt;p&gt;Create blank file &lt;em&gt;CHANGELOG.md&lt;/em&gt;. If no, generate-changelog will works incorrect.&lt;/p&gt;
&lt;p&gt;&lt;a id="packagejson"&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h3&gt;9.4. package.json&lt;/h3&gt;
&lt;div class="SashaBlockHighlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="w"&gt;&lt;/span&gt;
&lt;span class="w"&gt;	&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;name&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;SashaSublime&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt;&lt;/span&gt;
&lt;span class="w"&gt;	&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;version&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;4.14.7&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt;&lt;/span&gt;
&lt;span class="w"&gt;	&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;scripts&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="w"&gt;&lt;/span&gt;
&lt;span class="w"&gt;	&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;release&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;release-it&amp;quot;&lt;/span&gt;&lt;span class="w"&gt;&lt;/span&gt;
&lt;span class="w"&gt;	&lt;/span&gt;&lt;span class="p"&gt;}&lt;/span&gt;&lt;span class="w"&gt;&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;&lt;span class="w"&gt;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;ul&gt;
&lt;li&gt;&lt;em&gt;SashaSublime&lt;/em&gt; — name of your package,&lt;/li&gt;
&lt;li&gt;&lt;em&gt;4.14.7&lt;/em&gt; — previous version of your package. Use &lt;em&gt;0.0.0&lt;/em&gt;, if you add first release for your package.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Replace &lt;em&gt;SashaSublime&lt;/em&gt; and &lt;em&gt;4.14.7&lt;/em&gt; to your real values.&lt;/p&gt;
&lt;p&gt;&lt;a id="release-itjson"&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h3&gt;9.5. .release-it.json&lt;/h3&gt;
&lt;div class="SashaBlockHighlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="w"&gt;&lt;/span&gt;
&lt;span class="w"&gt;	&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;buildCommand&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;changelog -f - -u https:\/\/${repo.host}\/${repo.repository} | tee messages\/${version}.txt | cat - CHANGELOG.md &amp;gt; temp &amp;amp;&amp;amp; mv temp CHANGELOG.md &amp;amp;&amp;amp; sed -i &amp;#39;\/\\\&amp;quot;install\\\&amp;quot;: \\\&amp;quot;messages\\\/install\\.txt\\\&amp;quot;\/i\\\&amp;quot;${version}\\\&amp;quot;: \\\&amp;quot;messages\\\/${version}\\.txt\\\&amp;quot;,&amp;#39; messages.json &amp;amp;&amp;amp; js-beautify -r messages.json&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt;&lt;/span&gt;
&lt;span class="w"&gt;	&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;changelogCommand&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;changelog -f -&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt;&lt;/span&gt;
&lt;span class="w"&gt;	&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;github&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="w"&gt;&lt;/span&gt;
&lt;span class="w"&gt;		&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;release&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="kc"&gt;true&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt;&lt;/span&gt;
&lt;span class="w"&gt;		&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;tokenRef&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;TOKEN_GITHUB_FOR_RELEASE_IT&amp;quot;&lt;/span&gt;&lt;span class="w"&gt;&lt;/span&gt;
&lt;span class="w"&gt;	&lt;/span&gt;&lt;span class="p"&gt;},&lt;/span&gt;&lt;span class="w"&gt;&lt;/span&gt;
&lt;span class="w"&gt;	&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;npm&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="w"&gt;&lt;/span&gt;
&lt;span class="w"&gt;		&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;publish&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="kc"&gt;false&lt;/span&gt;&lt;span class="w"&gt;&lt;/span&gt;
&lt;span class="w"&gt;	&lt;/span&gt;&lt;span class="p"&gt;},&lt;/span&gt;&lt;span class="w"&gt;&lt;/span&gt;
&lt;span class="w"&gt;	&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;safeBump&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="kc"&gt;false&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt;&lt;/span&gt;
&lt;span class="w"&gt;	&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;src&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="w"&gt;&lt;/span&gt;
&lt;span class="w"&gt;		&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;addUntrackedFiles&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="kc"&gt;true&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt;&lt;/span&gt;
&lt;span class="w"&gt;		&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;tagName&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;st3-%s&amp;quot;&lt;/span&gt;&lt;span class="w"&gt;&lt;/span&gt;
&lt;span class="w"&gt;	&lt;/span&gt;&lt;span class="p"&gt;}&lt;/span&gt;&lt;span class="w"&gt;&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;&lt;span class="w"&gt;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;div class="admonition hint"&gt;
&lt;p class="admonition-title"&gt;Hint&lt;/p&gt;
&lt;p&gt;Pay attention to slashes escaping. To convert terminal command to JSON I recommend to use &lt;a href="https://www.freeformatter.com/json-escape.html#ad-output" rel="noopener" target="_blank"&gt;freeformatter.com service&lt;/a&gt;. For example:&lt;/p&gt;
&lt;div class="SashaBlockHighlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;sed -i &lt;span class="s1"&gt;&amp;#39;/\&amp;quot;install\&amp;quot;\: \&amp;quot;messages\/install\.txt\&amp;quot;/i\&amp;quot;4\.14\.7\&amp;quot;\: \&amp;quot;messages\/4\.14\.7\.txt\&amp;quot;,&amp;#39;&lt;/span&gt; messages.json
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;will convert to:&lt;/p&gt;
&lt;div class="SashaBlockHighlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="err"&gt;sed&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="mi"&gt;-&lt;/span&gt;&lt;span class="err"&gt;i&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="err"&gt;&amp;#39;\/\\\&amp;quot;install\\\&amp;quot;: \\\&amp;quot;messages\\\/install\\.txt\\\&amp;quot;\/i\\\&amp;quot;${version}\\\&amp;quot;: \\\&amp;quot;messages\\\/${version}\\.txt\\\&amp;quot;,&amp;#39; messages.json&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;&lt;a id="messagesjson"&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h3&gt;9.6. messages.json&lt;/h3&gt;
&lt;div class="SashaBlockHighlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="w"&gt;&lt;/span&gt;
&lt;span class="w"&gt;	&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;install&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;messages/install.txt&amp;quot;&lt;/span&gt;&lt;span class="w"&gt;&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;&lt;span class="w"&gt;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;a id="Usage"&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h2&gt;10. Usage&lt;/h2&gt;
&lt;p&gt;Add, commit and push your changes to remote GitHub repository. Example:&lt;/p&gt;
&lt;div class="SashaBlockHighlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;# Make any changes
D&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="nl"&gt;\SashaSublime&lt;/span&gt;&lt;span class="c1"&gt;&amp;gt;git add .&lt;/span&gt;

# I use commitizen instead of git commit
D&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="nl"&gt;\SashaSublime&lt;/span&gt;&lt;span class="c1"&gt;&amp;gt;git cz&lt;/span&gt;
cz-cli@2.9.6, cz-conventional-changelog@1.2.0


Line 1 will be cropped at 100 characters. All other lines will be wrapped after 100 characters.

? Select the type of change that you&amp;#39;re committing: build:     Changes that affect the build system or external dependencies (example scopes: gulp, broccoli, npm)
? Denote the scope of this change ($location, $browser, $compile, etc.):
release-it
? Write a short, imperative tense description of the change:
Fix .release-it.json
? Provide a longer description of the change:
Add to .release-it.json URL of SashaSublime repository
? List any breaking changes or issues closed by this change:

[SashaDevelop 52e517a] build(release-it): Fix .release-it.json
1 file changed, 2 insertions(+), 1 deletion(-)

D&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="nl"&gt;\SashaSublime&lt;/span&gt;&lt;span class="c1"&gt;&amp;gt;git push&lt;/span&gt;
Counting objects: 3, done.
Delta compression using up to 4 threads.
Compressing objects: 100% (2/2), done.
Writing objects: 100% (3/3), 735 bytes &lt;span class="p"&gt;|&lt;/span&gt; 183.00 KiB/s, done.
Total 3 (delta 1), reused 0 (delta 0)
remote: Resolving deltas: 100% (1/1), completed with 1 local object.
To https://github.com/Kristinita/SashaSublime.git
	0360628..52e517a  SashaDevelop -&lt;span class="p"&gt;&amp;gt;&lt;/span&gt; SashaDevelop
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Now run &lt;a href="https://www.npmjs.com/package/release-it#%EF%B8%8F-usage" rel="noopener" target="_blank"&gt;one of command&lt;/a&gt;:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;em&gt;release-it -n -V&lt;/em&gt; or &lt;em&gt;release-it patch -n -V&lt;/em&gt; — for release patch version;&lt;/li&gt;
&lt;li&gt;&lt;em&gt;release-it --minor -n -V&lt;/em&gt; — for release minor version;&lt;/li&gt;
&lt;li&gt;&lt;em&gt;release-it --major -n -V&lt;/em&gt; — for release major version;&lt;/li&gt;
&lt;li&gt;&lt;em&gt;release-it 4.14.7 -n -V&lt;/em&gt; — for release custom version; &lt;em&gt;4.14.7&lt;/em&gt; in example.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Also you can &lt;a href="https://www.npmjs.com/package/release-it" rel="noopener" target="_blank"&gt;create pre-releases&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Example result see in &lt;a href="#Demonstration"&gt;demonstration&lt;/a&gt; section.&lt;/p&gt;
&lt;p&gt;&lt;a id="Details"&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h2&gt;11. Details&lt;/h2&gt;
&lt;p&gt;If you want to know, how files and commands works, please, read this section.&lt;/p&gt;
&lt;p&gt;&lt;a id="release-it-command"&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h3&gt;11.1. release-it command&lt;/h3&gt;
&lt;div class="SashaBlockHighlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;release-it -n -V
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;ul&gt;
&lt;li&gt;&lt;em&gt;-n&lt;/em&gt; — &lt;a href="https://www.npmjs.com/package/release-it#-interactive-vs-non-interactive-mode" rel="noopener" target="_blank"&gt;non-interactive mode&lt;/a&gt;. That you don’t need input values each time manually.&lt;/li&gt;
&lt;li&gt;&lt;em&gt;-V&lt;/em&gt; — verbose. You can disable this command-line argument, but if you will get a bug, this argument may help you.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;a id="release-itjson-1"&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h3&gt;11.2. .release-it.json&lt;/h3&gt;
&lt;p&gt;&lt;a id="buildCommand"&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h4&gt;11.2.1. buildCommand&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;&lt;em&gt;changelog -f -&lt;/em&gt; — generate changelog. “&lt;em&gt;-&lt;/em&gt;” — argument, that changelog &lt;a href="https://unix.stackexchange.com/a/419416/237999" rel="noopener" target="_blank"&gt;stdout to console&lt;/a&gt;,&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code class="SashaCodeInline"&gt;-u https:\/\/${repo.host}\/${repo.repository}&lt;/code&gt; — support URL's in changelog, that the user can quick go to the commit link. &lt;code class="SashaCodeInline"&gt;${repo.host}&lt;/code&gt; — github.com. &lt;code class="SashaCodeInline"&gt;${repo.repository}&lt;/code&gt; — &lt;code class="SashaCodeInline"&gt;&amp;lt;your username&amp;gt;/&amp;lt;your repository&amp;gt;&lt;/code&gt;, &lt;code class="SashaCodeInline"&gt;Kristinita/SashaSublime&lt;/code&gt; for my example.&lt;/p&gt;
&lt;p&gt;Example:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;if &lt;code class="SashaCodeInline"&gt;-u https:\/\/${repo.host}\/${repo.repository}&lt;/code&gt;, changelog generate &lt;code class="SashaCodeInline"&gt;([40783aee](https://github.com/Kristinita/SashaSublime/commit/40783aee5a678d62f4e703248c277c725246f1ea))&lt;/code&gt;,&lt;/li&gt;
&lt;li&gt;if no &lt;code class="SashaCodeInline"&gt;-u https:\/\/${repo.host}\/${repo.repository}&lt;/code&gt;, changelog generate &lt;code class="SashaCodeInline"&gt;(40783aee)&lt;/code&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code class="SashaCodeInline"&gt;&lt;span class="kc"&gt;tee&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="err"&gt;messages\/$&lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="err"&gt;versio&lt;/span&gt;&lt;span class="kc"&gt;n&lt;/span&gt;&lt;span class="p"&gt;}&lt;/span&gt;&lt;span class="err"&gt;.&lt;/span&gt;&lt;span class="kc"&gt;t&lt;/span&gt;&lt;span class="err"&gt;x&lt;/span&gt;&lt;span class="kc"&gt;t&lt;/span&gt;&lt;span class="w"&gt;&lt;/span&gt;&lt;/code&gt; — output changelog to &lt;em&gt;messages/&amp;lt;your new release&amp;gt;.txt&lt;/em&gt; file. File &lt;em&gt;&amp;lt;your new release&amp;gt;.txt&lt;/em&gt; will create automatically. See &lt;a href="https://www.computerhope.com/unix/utee.htm" rel="noopener" target="_blank"&gt;description of &lt;em&gt;tee&lt;/em&gt; command&lt;/a&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;code class="SashaCodeInline"&gt;cat - CHANGELOG.md &amp;gt; temp &lt;span class="o"&gt;&amp;amp;&amp;amp;&lt;/span&gt; mv temp CHANGELOG.md&lt;/code&gt; — &lt;a href="https://superuser.com/a/246841/572069" rel="noopener" target="_blank"&gt;append changelog at beginning&lt;/a&gt; of &lt;em&gt;CHANGELOG.md&lt;/em&gt; file. &lt;em&gt;CHANGELOG.md&lt;/em&gt; do not overwrite.&lt;/li&gt;
&lt;li&gt;&lt;code class="SashaCodeInline"&gt;&lt;span class="err"&gt;sed&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="mi"&gt;-&lt;/span&gt;&lt;span class="err"&gt;i&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="err"&gt;&amp;#39;\/\\\&amp;quot;install\\\&amp;quot;: \\\&amp;quot;messages\\\/install\\.txt\\\&amp;quot;\/i\\\&amp;quot;${version}\\\&amp;quot;: \\\&amp;quot;messages\\\/${version}\\.txt\\\&amp;quot;,&amp;#39; messages.json&lt;/span&gt;&lt;/code&gt; — &lt;a href="https://stackoverflow.com/a/11695098/5951529" rel="noopener" target="_blank"&gt;add&lt;/a&gt; &lt;code class="SashaCodeInline"&gt;&lt;span class="nt"&gt;&amp;quot;&amp;lt;your version&amp;gt;&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;messages/&amp;lt;your version&amp;gt;.txt&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt;&lt;/span&gt;&lt;/code&gt; line before &lt;code class="SashaCodeInline"&gt;&lt;span class="nt"&gt;&amp;quot;install&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;messages/install.txt&amp;quot;&lt;/span&gt;&lt;span class="w"&gt;&lt;/span&gt;&lt;/code&gt; line.&lt;/li&gt;
&lt;li&gt;&lt;code class="SashaCodeInline"&gt;js-beautify -r messages.json&lt;/code&gt; — &lt;a href="https://www.npmjs.com/package/js-beautify#options" rel="noopener" target="_blank"&gt;beautify &lt;em&gt;messages.json&lt;/em&gt; file in-place&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;a id="Another-lines"&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h4&gt;11.2.2. Another lines&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;&lt;em&gt;changelogCommand&lt;/em&gt; — command, that generate changelog to &lt;code class="SashaCodeInline"&gt;https://github.com/&amp;lt;your username&amp;gt;/&amp;lt;your repository&amp;gt;/releases&lt;/code&gt;. Command must stdout to console.&lt;/li&gt;
&lt;li&gt;&lt;code class="SashaCodeInline"&gt;&lt;span class="nt"&gt;&amp;quot;release&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="kc"&gt;true&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt;&lt;/span&gt;&lt;/code&gt; — &lt;a href="https://www.npmjs.com/package/release-it#%EF%B8%8F-configuration" rel="noopener" target="_blank"&gt;post changelog&lt;/a&gt; to &lt;code class="SashaCodeInline"&gt;https://github.com/&amp;lt;your username&amp;gt;/&amp;lt;your repository&amp;gt;/releases&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;&lt;em&gt;TOKEN_GITHUB_FOR_RELEASE_IT&lt;/em&gt; — your &lt;a href="#Github-token"&gt;&lt;em&gt;TOKEN_GITHUB_FOR_RELEASE_IT&lt;/em&gt; environment variable&lt;/a&gt;,&lt;/li&gt;
&lt;li&gt;&lt;code class="SashaCodeInline"&gt;&lt;span class="nt"&gt;&amp;quot;npm&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="nt"&gt;&amp;quot;publish&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="kc"&gt;false&lt;/span&gt;&lt;span class="p"&gt;},&lt;/span&gt;&lt;span class="w"&gt;&lt;/span&gt;&lt;/code&gt; — don’t publish release to &lt;a href="https://www.npmjs.com/" rel="noopener" target="_blank"&gt;npm&lt;/a&gt;. We are writing Sublime Text package, not npm modules, so needs this parameter.&lt;/li&gt;
&lt;li&gt;&lt;code class="SashaCodeInline"&gt;&lt;span class="nt"&gt;&amp;quot;safeBump&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="kc"&gt;false&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt;&lt;/span&gt;&lt;/code&gt; — that correct version in &lt;code class="SashaCodeInline"&gt;https://github.com/&amp;lt;your username&amp;gt;/&amp;lt;your repository&amp;gt;/releases&lt;/code&gt;; see &lt;a href="https://github.com/webpro/release-it/issues/218" rel="noopener" target="_blank"&gt;issue&lt;/a&gt; for details.&lt;/li&gt;
&lt;li&gt;&lt;code class="SashaCodeInline"&gt;&lt;span class="nt"&gt;&amp;quot;addUntrackedFiles&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="kc"&gt;true&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt;&lt;/span&gt;&lt;/code&gt; — add &lt;a href="https://git-scm.com/book/en/v2/Git-Basics-Recording-Changes-to-the-Repository" rel="noopener" target="_blank"&gt;untracked file&lt;/a&gt; &lt;em&gt;messages/&amp;lt;version&amp;gt;.txt&lt;/em&gt; &lt;a href="https://github.com/webpro/release-it/issues/233" rel="noopener" target="_blank"&gt;to release commit&lt;/a&gt;.&lt;/li&gt;
&lt;li&gt;&lt;code class="SashaCodeInline"&gt;&lt;span class="nt"&gt;&amp;quot;tagName&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;st3-%s&amp;quot;&lt;/span&gt;&lt;span class="w"&gt;&lt;/span&gt;&lt;/code&gt; — &lt;a href="https://github.com/wbond/package_control/issues/1217#issuecomment-280041797" rel="noopener" target="_blank"&gt;correct tag name&lt;/a&gt; for Package Control. Tags for Sublime Text 3 must be in &lt;em&gt;st3-&amp;lt;your version&amp;gt;&lt;/em&gt; format, for example — &lt;em&gt;st3-4.14.7&lt;/em&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;a id="Problems-and-non-fixed-bugs"&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h2&gt;12. Problems and non-fixed bugs&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;&lt;a href="https://github.com/lob/generate-changelog/issues/37" rel="noopener" target="_blank"&gt;You can’t use&lt;/a&gt; &lt;a href="https://github.com/ngryman/cz-emoji" rel="noopener" target="_blank"&gt;cz-emoji&lt;/a&gt; for commit generation. Changelog will blank.&lt;/li&gt;
&lt;li&gt;release-it &lt;a href="https://github.com/webpro/release-it/issues/218" rel="noopener" target="_blank"&gt;can works incorrect&lt;/a&gt; in &lt;em&gt;--dry-run&lt;/em&gt; mode.&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/webpro/release-it/issues/213" rel="noopener" target="_blank"&gt;You can have bugs&lt;/a&gt;, if you want to use &lt;em&gt;${changelog}&lt;/em&gt; release-it variable.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;a id="Testing-environment"&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h2&gt;13. Testing environment&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;Windows 10 Enterprise LTSB 64-bit EN,&lt;/li&gt;
&lt;li&gt;Node.js 9.4.0,&lt;/li&gt;
&lt;li&gt;git 2.16.0.windows.2,&lt;/li&gt;
&lt;li&gt;release-it 7.3.0,&lt;/li&gt;
&lt;li&gt;changelog 1.7.0,&lt;/li&gt;
&lt;li&gt;tee (GNU coreutils) 8.26, packaged by Cygwin (8.26-1),&lt;/li&gt;
&lt;li&gt;cat (GNU coreutils) 8.26, packaged by Cygwin (8.26-1),&lt;/li&gt;
&lt;li&gt;mv (GNU coreutils) 8.26, packaged by Cygwin (8.26-1),&lt;/li&gt;
&lt;li&gt;sed (GNU sed) 4.2.2,&lt;/li&gt;
&lt;li&gt;js-beautify 1.7.5.&lt;/li&gt;
&lt;/ol&gt;</content><category term="IT-articles"></category><category term="it-articles"></category><category term="sublime-text"></category><category term="package-control"></category><category term="package-deployment"></category></entry></feed>